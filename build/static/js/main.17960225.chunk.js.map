{"version":3,"sources":["components/Location.js","components/Locations.js","panels/Home.js","panels/Locs.js","panels/New.js","img/shpion.png","panels/Game.js","panels/Timer.js","img/pirate.jpg","img/zinger.jpg","img/ostankino.jpg","img/metro.jpg","panels/NewLocation.js","App.js","index.js","components/location.module.scss","panels/timer.module.scss","panels/home.module.scss"],"names":["Location","img","location","role","className","styles","title","src","Locations","locations","go","size","stretched","onClick","map","loc","i","Home","id","fetchedUser","btn","mode","Locs","left","New","play","useState","count","setCount","top","style","paddingLeft","paddingRight","type","input","placeholder","value","onChange","event","val","target","length","checkNumber","Game","players","current","setCurrent","setLocation","gameStarted","setGameStarted","nextPlayer","setNextPlayer","gameEnd","setGameEnd","randomInteger","min","max","rand","Math","random","round","spy","setSpy","Shpion","marginTop","Timer","flash","Completionist","date","Date","now","renderer","hours","minutes","seconds","completed","timer","String","text","NewLocation","setLoc","roles","setRoles","header","setHeader","file","setFile","before","controlSize","objectUrl","URL","createObjectURL","files","console","log","changeImg","width","height","objectFit","borderRadius","slice","changeHandler","JSON","stringify","App","scheme","setScheme","activePanel","setActivePanel","setUser","setPlayers","Pirate","Zinger","Ostankino","Subway","setLocations","useEffect","a","bridge","send","user","subscribe","detail","data","fetchData","e","currentTarget","dataset","to","setTimeout","newData","parse","ReactDOM","render","document","getElementById","then","default","module","exports"],"mappings":"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","file":"static/js/main.17960225.chunk.js","sourcesContent":["import React from 'react'\n\nimport styles from './location.module.scss'\n\nconst Location = ({img, location, role}) => {\n\n    return (\n        <div className={styles.location}>\n            <div className={styles.title}>{location}</div>\n            {typeof role != 'object'\n                ?\n                <div className={styles.role}>{role}</div>\n                :\n                null\n            }\n            <img className={styles.img} src={img} />\n        </div>\n    )\n}\n\nexport default Location","import React from 'react'\nimport { useState } from 'react'\nimport Location from './Location'\n\nimport { Button } from '@vkontakte/vkui'\n\nconst Locations = ({locations, go}) => {\n\n    return (\n        <div>\n            <Button\n                size='m'\n                stretched\n                data-to='newLocation'\n                onClick={go}\n            >Добавить новую</Button>\n            {\n                locations.map((loc, i) => \n                    <Location\n                        key={i}\n                        img={loc.img}\n                        location={loc.location} \n                        role={loc.role}\n                    />\n                )\n            }\n        </div>\n    )\n}\n\nexport default Locations","import {React, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport Locations from '../components/Locations';\n\nimport styles from './home.module.scss'\n\nimport { Panel, PanelHeader, Button, Group, Div } from '@vkontakte/vkui';\n\nconst Home = ({ id, go, fetchedUser }) => {\n\n    return (\n        <Panel id={id}>\n\t\t\t<PanelHeader>Находчивый шпион</PanelHeader>\n\t\t\t<Group>\n\t\t\t\t<Div>\n\t\t\t\t\t<Button \n\t\t\t\t\t\tsize='m' \n\t\t\t\t\t\tstretched\n\t\t\t\t\t\tclassName={styles.btn}\n\t\t\t\t\t\tonClick={go}\n\t\t\t\t\t\tdata-to='new'\n\t\t\t\t\t>\n\t\t\t\t\t\tНовая игра\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button \n\t\t\t\t\t\tclassName={styles.btn}\n\t\t\t\t\t\tmode='secondary'\n\t\t\t\t\t\tsize='m' \n\t\t\t\t\t\tstretched\n\t\t\t\t\t\tonClick={go}\n\t\t\t\t\t\tdata-to='locs'\n\t\t\t\t\t>\n\t\t\t\t\t\tСписок локаций\n\t\t\t\t\t</Button>\n\t\t\t\t</Div>\n\t\t\t</Group>\n\t\t</Panel>\n    )\n}\n\nexport default Home","import {React, useState} from 'react';\nimport Locations from '../components/Locations';\n\nimport { Panel, PanelHeader, Header, Button, Group, Cell, Div, Avatar, PanelHeaderBack } from '@vkontakte/vkui';\n\nconst Locs = ({ id, go, locations }) => {\n\n    return (\n        <Panel id={id}>\n\t\t\t<PanelHeader left={<PanelHeaderBack onClick={go} data-to='home' />}>\n                Список Локаций\n            </PanelHeader>\n\t\t\t<Group>\n\t\t\t\t<Div>\n\t\t\t\t\t<Locations go={go} locations={locations} />\n\t\t\t\t</Div>\n\t\t\t</Group>\n\t\t</Panel>\n    )\n}\n\nexport default Locs","import React, { useState } from 'react'\n\nimport styles from './new.module.scss'\n\nimport { Panel, PanelHeader, PanelHeaderBack, Div, FormItem, Input, Button } from '@vkontakte/vkui'\n\nconst New = ({id, go, play}) => {\n\n    const [count, setCount] = useState(3);\n\n    const checkNumber = (event) => {\n        let val = event.target.value\n\n        if (val.length > 0 && val < 3) {\n            setCount(3)\n        } else if (val.length > 0 && val > 6) {\n            setCount(6)\n        } else {\n            setCount(val);\n        }\n    }\n\n    return (\n        <Panel id={id}>\n            <PanelHeader left={<PanelHeaderBack onClick={go} data-to='home' />}>\n                Новая игра\n            </PanelHeader>\n            <Div>\n                <FormItem top='Число игроков' style={{paddingLeft: '0px', paddingRight: '0px'}}>\n                    <Input \n                        type='number' \n                        className={styles.input}\n                        placeholder='От 3 до 6'\n                        value={count}\n                        onChange={(event) => checkNumber(event)}\n                    />\n                </FormItem>\n                <Button\n                    stretched\n                    size='m'\n                    data-count={count}\n                    data-to='game'\n                    onClick={play}\n                >Начать игру</Button>\n            </Div>\n        </Panel>\n    )\n}\n\nexport default New","export default __webpack_public_path__ + \"static/media/shpion.fd50b023.png\";","import React, { useState } from 'react'\nimport Location from '../components/Location'\n\nimport { Button, Panel, PanelHeader, Div, Text } from '@vkontakte/vkui'\n\nimport Shpion from '../img/shpion.png'\n\nconst Game = ({id, go, players, locations}) => {\n\n    const [current, setCurrent] = useState(null);\n    const [location, setLocation] = useState(null);\n    const [gameStarted, setGameStarted] = useState(false);\n    const [nextPlayer, setNextPlayer] = useState(false);\n    const [gameEnd, setGameEnd] = useState(false);\n\n    function randomInteger(min, max) {\n        let rand = min - 0.5 + Math.random() * (max - min + 1);\n        return Math.round(rand);\n    }\n\n    const [spy, setSpy] = useState(null);\n    \n    return (\n        <Panel id={id}>\n            <PanelHeader>Игра</PanelHeader>\n            {\n                !gameStarted\n                ?\n                <Div>\n                    <Text>Вы начинаете игру! Нажимте «Начать круг» и узнаете, кто вы. Если вы обычный игрок, увидите локацию. А если шпион, то увидите соответствующую карту. С помощью вопросов найдите шпиона или узнайте локацию, в которой вы находитесь!</Text>\n                    <Button\n                        size='m'\n                        stretched\n                        style={{marginTop: '20px'}}\n                        onClick={() => {\n                            setGameStarted(true)\n                            setSpy(randomInteger(1, players))\n                            setLocation(locations[randomInteger(0, 3)])\n                            setCurrent(1)\n                        }}\n                    >Начать круг</Button>\n                </Div>\n                :\n                <Div>\n                    {\n                        !nextPlayer && current <= players\n                        ?\n                        <>\n                            {\n                                current !== spy\n                                ?\n                                <Location\n                                    img={location.img}\n                                    location={location.location}\n                                    role={\n                                        location.role[randomInteger(0, location.role.length - 1)]\n                                    }\n                                />\n                                :\n                                <Location \n                                    img={Shpion}\n                                    location='Вы шпион!'\n                                    role='Вычислите локацию игроков'\n                                />\n                            }\n                        </>\n                        :\n                        <>\n                            {\n                                current < players\n                                ?\n                                <Text>Передайте телефон следующему игроку</Text>\n                                :\n                                <Text>Все роли выданы игрокам! Задавайте друг другу вопросы и вычислите шпиона. Помните, нужно быть аккуратнее, шпион по вопросам может узнать, где вы находитесь!</Text>\n                            }\n                        </>\n                    }\n                    {\n                        !gameEnd\n                        ?\n                            <Button\n                                size='m'\n                                stretched\n                                style={{marginTop: '20px'}}\n                                onClick={() => {\n                                    setNextPlayer(!nextPlayer)\n                                    if (nextPlayer) {\n                                        setCurrent(current + 1)\n                                    }\n                                    if (current == players) {\n                                        setGameEnd(!gameEnd)\n                                    }\n                                }}\n                            >\n                            {\n                                !nextPlayer\n                                ?\n                                'Скрыть мою карту'\n                                :\n                                'Открыть карту'\n                            }\n                        </Button>\n                        :\n                        <Button\n                                size='m'\n                                stretched\n                                style={{marginTop: '20px'}}\n                                data-to='timer'\n                                onClick={go}\n                        >Начать обсуждение</Button>\n                    }\n                </Div>\n            }\n        </Panel>\n    )\n}\n\nexport default Game","import React, {useState, useEffect} from 'react'\nimport ReactDOM from 'react-dom';\n\nimport { Panel, PanelHeader, Div, Button } from '@vkontakte/vkui'\nimport Countdown from 'react-countdown';\nimport styles from './timer.module.scss'\n\nconst Timer = ({id, go, players, flash}) => {\n\n    const Completionist = () => <div>Время вышло!</div>;\n\n    const renderer = ({ hours, minutes, seconds, completed }) => {\n        if (completed) {\n            flash();\n            return <Completionist />;\n        } else {\n            return <>\n                <div className={styles.timer}>{minutes}:{String(seconds).length == 1 ? '0' + seconds : seconds}</div>\n                <div className={styles.text}>Начинайте задавать вопросы друг другу!</div>\n            </>;\n        }\n    };\n\n    return (\n        <Panel id={id}>\n            <PanelHeader>Таймер</PanelHeader>\n            <Div>\n                <Countdown\n                    date={Date.now() + 1 * 30000}\n                    renderer={renderer}\n                />\n                <Button\n                    className={styles.btn}\n                    size='m'\n                    stretched\n                    onClick={go}\n\t\t\t\t\tdata-to='game'\n                >Новый раунд</Button>\n                <Button\n                    className={styles.btn}\n                    size='m'\n                    mode='secondary'\n                    stretched\n                    onClick={go}\n\t\t\t\t\tdata-to='home'\n                >В главное меню</Button>\n            </Div>\n        </Panel>\n    )\n}\n\nexport default Timer","export default __webpack_public_path__ + \"static/media/pirate.f59fc226.jpg\";","export default __webpack_public_path__ + \"static/media/zinger.96f760ef.jpg\";","export default __webpack_public_path__ + \"static/media/ostankino.9be6a3a4.jpg\";","export default __webpack_public_path__ + \"static/media/metro.3273fc31.jpg\";","import React, {useState} from 'react'\n\nimport { Panel, PanelHeader, PanelHeaderBack, FormItem, Input, Group, Header, Button, Div, File } from '@vkontakte/vkui'\nimport { Icon24Document } from '@vkontakte/icons';\n\nconst NewLocation = ({id, go, locations, setLoc}) => {\n\n    const [roles, setRoles] = useState(['']);\n    const [header, setHeader] = useState('');\n    const [file, setFile] = useState(null);\n\n    function changeHandler(i, event) {\n        setRoles([...roles.slice(0, i), event.target.value, ...roles.slice(i+1)]);\n    }\n\n    function changeImg(event) {\n        let objectUrl = URL.createObjectURL(event.target.files[0])\n        console.log(objectUrl)\n        setFile(objectUrl)\n    }\n\n\n    return (\n        <Panel id={id}>\n            <PanelHeader left={<PanelHeaderBack onClick={go} data-to='locs' />}>Новая локация</PanelHeader>\n            <Header>Основное</Header>\n            <Group>\n                <FormItem top='Название локации'>\n                    <Input placeholder='Необитаемый остров' value={header} onChange={(event) => setHeader(event.target.value)} />\n                </FormItem>\n                <FormItem top=\"Обложка\">\n                    <File before={<Icon24Document />} controlSize=\"m\" mode=\"secondary\" onChange={(event) => changeImg(event)}/>\n                    {\n                        file\n                        ?\n                        <img style={{\n                            width: '100%',\n                            height: '280px',\n                            objectFit: 'cover',\n                            borderRadius: '8px',\n                            marginTop: '16px'\n                        }} src={file}/>\n                        :\n                        null\n                    }\n                </FormItem>\n            </Group>\n            <Group>\n                <Header>Роли</Header>\n                {\n                    roles\n                    ?\n                    roles.map((role, i) =>\n                        <FormItem top='Название роли' key={i}>\n                            <Input placeholder='Грузчик' value={role.value} onChange={(event) => changeHandler(i, event)} />\n                        </FormItem>\n                    )\n                    :\n                    null\n                }\n                <Div>\n                    <Button\n                        stretched\n                        mode='secondary'\n                        size='m'\n                        onClick={() => setRoles([...roles, ''])}\n                    >Добавить роль</Button>\n                </Div>\n            </Group>\n            <Group>\n                <Div>\n                    <Button\n                        stretched\n                        size='m'\n                        data-to='locs'\n                        onClick={(event) => {\n                            setLoc(JSON.stringify({\n                                img: file,\n                                location: header,\n                                role: roles\n                            }))\n                            go(event)\n                        }}\n                    >Сохранить</Button>\n                </Div>\n            </Group>\n        </Panel>\n    )\n}\n\nexport default NewLocation","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport { View, ScreenSpinner, AdaptivityProvider, AppRoot, ConfigProvider, SplitLayout, SplitCol } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/Home';\nimport Locs from './panels/Locs';\nimport New from './panels/New';\nimport Game from './panels/Game';\nimport Timer from './panels/Timer';\n\nimport Pirate from './img/pirate.jpg'\nimport Zinger from './img/zinger.jpg'\nimport Ostankino from './img/ostankino.jpg'\nimport Subway from './img/metro.jpg'\nimport NewLocation from './panels/NewLocation';\n\nconst App = () => {\n\tconst [scheme, setScheme] = useState('bright_light')\n\tconst [activePanel, setActivePanel] = useState('home');\n\tconst [fetchedUser, setUser] = useState(null);\n\tconst [players, setPlayers] = useState(null);\n\n\tconst [locations, setLocations] = useState([\n        {\n            img: Pirate,\n            location: 'Пиратский корабль',\n            role: ['Юнга', 'Пленный', 'Попугай на плече', 'Боцман', 'Капитан', 'Плотник']\n        },\n        {\n            img: Zinger,\n            location: 'Офис ВКонтакте',\n            role: ['Менеджер', 'Тимлид', 'Тестировщик', 'Разработчик', 'Сис админ', 'Уборщик']\n        },\n        {\n            img: Ostankino,\n            location: 'Останкино',\n            role: ['Директор', 'Репортёр', 'Журналист', 'Оператор', 'Телезвезда', 'Метеоролог']\n        },\n        {\n            img: Subway,\n            location: 'Метро',\n            role: ['Слесарь', 'Электромонтажник', 'Начальник смены', 'Прораб', 'Машинист', 'Инженер']\n        },\n    ])\n\n\tuseEffect(() => {\n\t\tbridge.send(\"VKWebAppInit\");\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tsetScheme(data.scheme)\n\t\t\t}\n\t\t});\n\n\t\tasync function fetchData() {\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\n\t\t\tsetUser(user);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\tconst go = e => {\n\t\tsetActivePanel(e.currentTarget.dataset.to);\n\t};\n\n\tconst play = e => {\n\t\tsetPlayers(e.currentTarget.dataset.count)\n\t\tsetActivePanel(e.currentTarget.dataset.to)\n\t}\n\n\tconst setLoc = e => {\n\t\tlet newData = JSON.parse(e)\n\t\tsetLocations([newData, ...locations])\n\t}\n\n\tconst flash = () => {\n\t\tbridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 1});\n        setTimeout(() => {bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 0});}, 1000);\n        setTimeout(() => {bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 1});}, 2000);\n        setTimeout(() => {bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 0});}, 3000);\n        setTimeout(() => {bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 1});}, 4000);\n        setTimeout(() => {bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 0});}, 5000);\n\t}\n\n\treturn (\n\t\t<ConfigProvider scheme={scheme}>\n\t\t\t<AdaptivityProvider>\n\t\t\t\t<AppRoot>\n\t\t\t\t\t<SplitLayout>\n\t\t\t\t\t\t<SplitCol>\n\t\t\t\t\t\t\t<View activePanel={activePanel}>\n\t\t\t\t\t\t\t\t<Home id='home' fetchedUser={fetchedUser} go={go} />\n\t\t\t\t\t\t\t\t<Locs id='locs' locations={locations} setLocations={setLocations} go={go} />\n\t\t\t\t\t\t\t\t<New id='new' go={go} play={play} />\n\t\t\t\t\t\t\t\t<Game id='game' go={go} locations={locations} players={players} />\n\t\t\t\t\t\t\t\t<Timer id='timer' bridge={bridge} go={go} flash={flash} players={players} />\n\t\t\t\t\t\t\t\t<NewLocation id='newLocation' go={go} locations={locations} setLoc={setLoc} />\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t</SplitCol>\n\t\t\t\t\t</SplitLayout>\n\t\t\t\t</AppRoot>\n\t\t\t</AdaptivityProvider>\n\t\t</ConfigProvider>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n// if (process.env.NODE_ENV === \"development\") {\n//   import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n// }\nimport(\"./eruda\").then(({ default: eruda }) => {});","// extracted by mini-css-extract-plugin\nmodule.exports = {\"location\":\"location_location__6OsAv\",\"img\":\"location_img__2fTr_\",\"title\":\"location_title__3yYNt\",\"role\":\"location_role__2E_E7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timer\":\"timer_timer__3onDo\",\"text\":\"timer_text__1av19\",\"btn\":\"timer_btn__3Qc1g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"home_btn__3c_e8\"};"],"sourceRoot":""}